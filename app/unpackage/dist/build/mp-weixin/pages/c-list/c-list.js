(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/c-list/c-list"],{"4ff7":function(t,e,o){"use strict";(function(t,e){var i=o("4ea4");o("c84b"),o("a9ff");i(o("66fd"));var n=i(o("e02a"));t.__webpack_require_UNI_MP_PLUGIN__=o,e(n.default)}).call(this,o("bc2e")["default"],o("543d")["createPage"])},a283:function(t,e,o){},a964:function(t,e,o){"use strict";o.d(e,"b",(function(){return n})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return i}));var i={guiPage:function(){return o.e("GraceUI5/components/gui-page").then(o.bind(null,"674e"))},guiSearch:function(){return o.e("GraceUI5/components/gui-search").then(o.bind(null,"c0a8"))},guiModal:function(){return o.e("GraceUI5/components/gui-modal").then(o.bind(null,"d8ae"))},uniDataSelect:function(){return o.e("uni_modules/uni-data-select/components/uni-data-select/uni-data-select").then(o.bind(null,"56c3"))}},n=function(){var t=this.$createElement;this._self._c},a=[]},b6b8:function(t,e,o){"use strict";(function(t){var i=o("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;i(o("f104"));var n=o("f104"),a=o("8452"),c={components:{guipopup:function(){o.e("GraceUI5/components/gui-popup").then(function(){return resolve(o("ad3a"))}.bind(null,o)).catch(o.oe)}},data:function(){return{img:"https://images.unsplash.com/photo-1660505465468-c898ea7ff674?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHx0b3BpYy1mZWVkfDQ2fHhqUFI0aGxrQkdBfHxlbnwwfHx8fA%3D%3D&auto=format&fit=crop&w=200&q=90",pageLoading:!0,mainHeight:300,leftTo:"cate",isLeftTap:!1,mainCate:a.products,currentCateIndex:1,scrollTimer:null,productListTo:"",food:{},form:{value:100},selectMenu2:[{value:0,text:"早餐"},{value:1,text:"午餐"},{value:2,text:"晚餐"},{value:3,text:"加餐"}]}},onLoad:function(e){var o=this;console.log(e.type),this.type=e.type,t.gRequest.post("bohe/categorisAndFood",{},(function(t){200==t.data.code&&(o.mainCate=t.data.data)})),console.log(this.mainCate),n.getRefs("guiPage",this,0,(function(e){e.getDomSize("guiPageBody",(function(e){o.mainHeight=e.height-t.upx2px(110),setTimeout((function(){o.pageLoading=!1}),1e3)}))}))},methods:{open1:function(t){var e=new Date;this.food=t,this.food.createTime=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),this.$refs.guimodal1.open()},close1:function(){this.$refs.guimodal1.close()},confirm1:function(){console.log(n.getStorage("id")),console.log(this.type),console.log(this.form),console.log(this.food),console.log(this.food.calory*this.form.value/this.food.weight);var e={cType:this.type,cValue:this.food.calory*this.form.value/this.food.weight,cName:this.food.name,cId:this.food.id,cImg:this.food.thumbImageUrl,uid:n.getStorage("id"),cNum:this.form.value,cWeight:this.food.weight,createTime:this.food.createTime};console.log(e),t.gRequest.post("bohe/addCalory",{data:e},(function(t){console.log(t.data),t.data.code})),this.$refs.guimodal1.close()},changCate:function(t){var e=this;this.isLeftTap=!0;var o=t.currentTarget.dataset.cateid;this.currentCateIndex=o,1==o?(this.productListTo="productList2",this.$nextTick((function(){e.productListTo="productList"+o}))):this.productListTo="productList"+o,setTimeout((function(){e.isLeftTap=!1}),3e3)},rscroll:function(t){var e=this;this.isLeftTap||(null!=this.scrollTimer&&clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout((function(){e.getIndex()}),100))},getIndex:function(e){var o=this,i=t.createSelectorQuery();i.selectAll(".gui-cate-product-list").boundingClientRect(),i.selectViewport().scrollOffset(),i.exec((function(t){for(var e=t[0],i=0;i<e.length;i++)if(e[i].top>0&&e[i].top>=o.mainHeight/2){o.currentCateIndex=e[i].dataset.parentid,o.leftTo="cate"+e[i].dataset.parentid;break}console.log(o.leftTo)}))},search:function(t){var e=t,o=-1;for(var i in this.mainCate){for(var n=0;n<this.mainCate[i].products.length;n++){if(-1!=this.mainCate[i].products[n].name.indexOf(e)){o=this.mainCate[i].products[n].id;break}0}if(-1!=o)break}-1!=o&&(this.productListTo="products"+o)}}};e.default=c}).call(this,o("543d")["default"])},c1ac:function(t,e,o){"use strict";o.r(e);var i=o("b6b8"),n=o.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(a);e["default"]=n.a},e02a:function(t,e,o){"use strict";o.r(e);var i=o("a964"),n=o("c1ac");for(var a in n)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(a);o("e21c");var c=o("f0c5"),u=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=u.exports},e21c:function(t,e,o){"use strict";var i=o("a283"),n=o.n(i);n.a}},[["4ff7","common/runtime","common/vendor"]]]);