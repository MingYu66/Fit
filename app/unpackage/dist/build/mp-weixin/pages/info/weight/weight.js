(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/info/weight/weight"],{"2c16":function(t,e,a){"use strict";a.r(e);var n=a("ae96"),r=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e["default"]=r.a},"41ed":function(t,e,a){"use strict";var n=a("fea3"),r=a.n(n);r.a},"4cec":function(t,e,a){"use strict";(function(t,e){var n=a("4ea4");a("c84b"),a("a9ff");n(a("66fd"));var r=n(a("5376"));t.__webpack_require_UNI_MP_PLUGIN__=a,e(r.default)}).call(this,a("bc2e")["default"],a("543d")["createPage"])},5376:function(t,e,a){"use strict";a.r(e);var n=a("e1d4"),r=a("2c16");for(var i in r)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(i);a("41ed");var o=a("f0c5"),u=Object(o["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=u.exports},ae96:function(t,e,a){"use strict";(function(t){function n(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"===typeof t)return r(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return r(t,e)}(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,c=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return u=t.done,t},e:function(t){c=!0,o=t},f:function(){try{u||null==a.return||a.return()}finally{if(c)throw o}}}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("f104"),o={data:function(){return{bmi:0,date1:null,kg:0,dk:!1,chartData:{},opts:{color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],padding:[15,10,0,15],dataLabel:!1,dataPointShape:!1,enableScroll:!1,legend:{},xAxis:{disableGrid:!0,fontSize:10,rotateLabel:!0},yAxis:{gridType:"dash",dashLength:2,data:[{min:0,max:150}]},extra:{line:{type:"curve",width:2,activeType:"hollow",linearType:"custom",onShadow:!0,animation:"horizontal"}}}}},onLoad:function(){var t=new Date;this.date1=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),this.getWeight()},methods:{getWeight:function(){var e=this;t.gRequest.post("bohe/getDayWeight",{data:{userId:i.getStorage("id")}},(function(a){console.log(a.data.data),a.data.data.length>0?(e.kg=a.data.data[0].weight,e.dk=!0):(t.gRequest.post("bohe/getUserWeight",{data:{userId:i.getStorage("id")}},(function(t){console.log(t),e.kg=t.data.data[0].weight})),e.dk=!1),e.calculateBMI(),e.getServerData()}))},calculateBMI:function(){if(this.height=i.getStorage("height")/100,console.log(this.kg,this.height),this.kg&&this.height){var t=this.height*this.height;this.bmi=this.kg/t}else alert("请输入有效的体重和身高")},getServerData:function(){var e=this;t.gRequest.post("bohe/getUserWeight",{data:{userId:i.getStorage("id")}},(function(t){console.log(t.data.data);var a=[],r=[],i=[],o=e.height*e.height;e.weight=t.data.data[0].weight;var u,c=n(t.data.data);try{for(c.s();!(u=c.n()).done;){var d=u.value;a.length<15&&(a.push(d.createTime),r.push(d.weight),i.push((d.weight/o).toFixed(2)))}}catch(s){c.e(s)}finally{c.f()}var l={categories:a,xAxis:{fontSize:10},series:[{name:"体重记录",linearColor:[[0,"#1890FF"],[.25,"#00B5FF"],[.5,"#00D1ED"],[.75,"#00E6BB"],[1,"#90F489"]],setShadow:[3,8,10,"#1890FF"],data:r},{name:"BMI",linearColor:[[0,"#e4ff30"],[.25,"#6effa8"],[.5,"#e137ed"],[.75,"#e6b4dd"],[1,"#90F489"]],setShadow:[3,8,10,"#f7ff57"],data:i}]};e.chartData=JSON.parse(JSON.stringify(l))}))}}};e.default=o}).call(this,a("543d")["default"])},e1d4:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return n}));var n={qiunDataCharts:function(){return Promise.all([a.e("common/vendor"),a.e("uni_modules/qiun-data-charts/components/qiun-data-charts/qiun-data-charts")]).then(a.bind(null,"aa03"))}},r=function(){var t=this.$createElement,e=(this._self._c,this.bmi.toFixed(2));this.$mp.data=Object.assign({},{$root:{g0:e}})},i=[]},fea3:function(t,e,a){}},[["4cec","common/runtime","common/vendor"]]]);