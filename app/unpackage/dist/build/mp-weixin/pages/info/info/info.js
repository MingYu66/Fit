(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/info/info/info"],{"203f":function(e,t,a){"use strict";a.r(t);var o=a("6106"),n=a.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return o[e]}))}(i);t["default"]=n.a},"2cfa":function(e,t,a){"use strict";(function(e,t){var o=a("4ea4");a("c84b"),a("a9ff");o(a("66fd"));var n=o(a("eb33"));e.__webpack_require_UNI_MP_PLUGIN__=a,t(n.default)}).call(this,a("bc2e")["default"],a("543d")["createPage"])},6106:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a("f104"),n={components:{countDown:function(){a.e("components/zh-countDown/countDown/countDown").then(function(){return resolve(a("ad53"))}.bind(null,a)).catch(a.oe)}},data:function(){return{food:{},date1:null,weight:0,kg:0,navCurrent:0,useCalory:0,calorys:[],caloryNum:0,ydNum:0,foodNum:0,type0:[],type1:[],type2:[],type3:[],type4:[],times:0,modelVale:0,percent:12.5,categories:[{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:1},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:2},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:3},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:4},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:5},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:6},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:7},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:8},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:9},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:10},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:11},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:12}],del:{},recommends:[],recentDates:[],intake:[],intake2:[],chartData:{},chartData2:{},opts:{color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],padding:[15,10,0,15],dataLabel:!1,dataPointShape:!1,enableScroll:!1,legend:{},xAxis:{disableGrid:!0,fontSize:10,rotateLabel:!0},yAxis:{gridType:"dash",dashLength:2,data:[{min:0,max:2e3}]},extra:{line:{type:"curve",width:2,activeType:"hollow",linearType:"custom",onShadow:!0,animation:"horizontal"}}},opts2:{color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],padding:[15,10,0,15],dataLabel:!1,dataPointShape:!1,enableScroll:!1,legend:{},xAxis:{disableGrid:!0,fontSize:10,rotateLabel:!0},yAxis:{gridType:"dash",dashLength:2,data:[{min:0,max:2e3}]},extra:{line:{type:"curve",width:2,activeType:"hollow",linearType:"custom",onShadow:!0,animation:"horizontal"}}}}},onShow:function(){this.getUserCalory()},onLoad:function(){var t=new Date;this.date1=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),e.hideTabBar(),this.getUserCalory(),this.getCategorList(),this.sevenDateInfo()},methods:{openCalendar1:function(){this.$refs.guicalendar1.open()},changeDate1:function(e){this.date1=e,this.getUserCalory()},goYsInfo:function(){e.navigateTo({url:""})},navChang:function(t){console.log(t),0==t?e.switchTab({url:"../switchPages/index"}):1==t?e.navigateTo({url:"../note/list"}):2==t?this.$refs.openWeight.open():3==t?e.switchTab({url:"../uSpeak/uSpeak",fail:function(e){console.log(e)}}):4==t&&e.switchTab({url:"../switchPages/about"}),this.navCurrent=t},tapme:function(){e.navigateTo({url:"../c-list/c-list",success:function(e){},fail:function(){},complete:function(){}})},pendantTap:function(){e.showToast({icon:"none",title:"挂件点击"})},getUserCalory:function(){var t=this;this.useCalory=o.getStorage("calory");var a={uid:o.getStorage("id"),createTime:this.date1};e.gRequest.post("bohe/calories",{data:a},(function(e){if(console.log(e.data),200==e.data.code){t.food=e.data.food,t.calorys=e.data.data,t.caloryNum=0,t.ydNum=0,t.foodNum=0;var a=[],o=[],n=[],i=[],r=[];console.log(t.calorys);for(var c=0;c<t.calorys.length;){if(console.log(t.calorys[c]),4==t.calorys[c].cType)r.push(t.calorys[c]),t.ydNum=t.ydNum+t.calorys[c].cValue,t.caloryNum=t.caloryNum-t.calorys[c].cValue;else{switch(t.calorys[c].cType){case 0:a.push(t.calorys[c]);break;case 1:o.push(t.calorys[c]);break;case 2:n.push(t.calorys[c]);break;case 3:i.push(t.calorys[c]);break;default:break}t.foodNum=t.foodNum+t.calorys[c].cValue,t.caloryNum=t.caloryNum+t.calorys[c].cValue}c++}t.type0=a,t.type1=o,t.type2=n,t.type3=i,t.type4=r,t.caloryNum=parseInt(t.caloryNum),t.ydNum=parseInt(t.ydNum),t.foodNum=parseInt(t.foodNum),t.useCalory=parseInt(t.useCalory),t.percent=100*(t.caloryNum/t.useCalory).toFixed(2),console.log(t.percent)}})),this.getWeight()},formatDate:function(e){console.log(e);var t=e.getFullYear(),a=""+(e.getMonth()+1),o=""+e.getDate();return a.length<2&&(a="0"+a),o.length<2&&(o="0"+o),[t,a,o].join("-")},sevenDateInfo:function(){this.recentDates=[],this.intake=[],this.intake2=[];for(var e=new Date,t=6;t>=0;t--){var a=new Date(e);a.setDate(e.getDate()-t),this.getInfo(a)}console.log(this.recentDates),console.log(this.intake),console.log(this.intake2);var o=this;setTimeout((function(){var e={categories:o.recentDates,xAxis:{fontSize:10},series:[{name:"饮食摄入记录",linearColor:[[0,"#1890FF"],[.25,"#00B5FF"],[.5,"#00D1ED"],[.75,"#00E6BB"],[1,"#90F489"]],setShadow:[3,8,10,"#1890FF"],data:o.intake}]},t={categories:o.recentDates,xAxis:{fontSize:10},series:[{name:"运动记录",linearColor:[[0,"#1890FF"],[.25,"#00B5FF"],[.5,"#00D1ED"],[.75,"#00E6BB"],[1,"#90F489"]],setShadow:[3,8,10,"#1890FF"],data:o.intake2}]};o.chartData2=JSON.parse(JSON.stringify(t)),o.chartData=JSON.parse(JSON.stringify(e))}),1e3)},getInfo:function(t){var a=this,n=this,i={uid:o.getStorage("id"),createTime:t};e.gRequest.post("bohe/calories",{data:i},(function(e){if(console.log(e.data),200==e.data.code){e.data.food;var o=e.data.data,i=0,r=0,c=0,s=[],l=[],u=[],d=[],h=[];console.log(o);for(var g=0;g<o.length;){if(console.log(o[g]),4==o[g].cType)h.push(o[g]),r+=o[g].cValue,i-=o[g].cValue;else{switch(o[g].cType){case 0:s.push(o[g]);break;case 1:l.push(o[g]);break;case 2:u.push(o[g]);break;case 3:d.push(o[g]);break;default:break}c+=o[g].cValue,i+=o[g].cValue}g++}i=parseInt(i),r=parseInt(r),c=parseInt(c),console.log(i,r,c);var f=n.recentDates;f.push(a.formatDate(t)),n.recentDates=f;var p=n.intake;p.push(c);var m=n.intake2;m.push(r),n.intake=p,n.intake2=m}}))},getWeight:function(){var t=this;e.gRequest.post("bohe/getDayWeight",{data:{userId:o.getStorage("id")}},(function(e){console.log(e.data.data);try{e.data.data.length>0?t.kg=e.data.data[0].weight:t.kg=0}catch(a){t.kg=0}}))},getCategorList:function(){var t=this;e.gRequest.post("bohe/categorisList",{},(function(e){console.log(e.data),200==e.data.code&&(t.categories=e.data.data)}))},add:function(t){var a=new Date;this.date1===a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()?4!=t?o.navigate("../../c-list/c-list?type="+t):o.navigate("../../c-move-list/c-move-list"):e.showModal({content:"仅可添加今日饮食"}),console.log(t)},getCategorise:function(e){o.navigate("../../list/list?id="+e)},open1:function(t){this.del=t;var a=new Date;this.date1===a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()?this.$refs.guimodal1.open():e.showModal({content:"不可删除之前饮食记录"})},close1:function(){this.$refs.guimodal1.close()},close2:function(){this.$refs.openWeight.close()},confirm2:function(){var t=this;this.kg=this.weight,this.$refs.openWeight.close(),e.gRequest.post("bohe/setUserWeight",{data:{userId:o.getStorage("id"),weight:this.kg}},(function(a){console.log(a.data),e.showModal({content:a.data.msg}),t.getWeight()}))},confirm1:function(){var t=this;e.gRequest.post("bohe/delCalories",{data:this.del},(function(a){console.log(a.data),200==a.data.code&&(t.getUserCalory(),t.$refs.guimodal1.close(),e.showToast({title:"删除成功",icon:"success"}))}))}}};t.default=n}).call(this,a("543d")["default"])},"6f7c":function(e,t,a){"use strict";var o=a("8a8f"),n=a.n(o);n.a},"8a8f":function(e,t,a){},a3f0:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return o}));var o={guiPage:function(){return a.e("GraceUI5/components/gui-page").then(a.bind(null,"674e"))},guiDemoHeader:function(){return a.e("GraceUI5/components/gui-demo-header").then(a.bind(null,"c207"))},lCircle:function(){return Promise.all([a.e("common/vendor"),a.e("uni_modules/lime-circle/components/l-circle/l-circle")]).then(a.bind(null,"10f1"))},qiunDataCharts:function(){return Promise.all([a.e("common/vendor"),a.e("uni_modules/qiun-data-charts/components/qiun-data-charts/qiun-data-charts")]).then(a.bind(null,"aa03"))},guiModal:function(){return a.e("GraceUI5/components/gui-modal").then(a.bind(null,"d8ae"))},guiCalendar:function(){return a.e("GraceUI5/components/gui-calendar").then(a.bind(null,"09ac"))}},n=function(){var e=this.$createElement;this._self._c},i=[]},eb33:function(e,t,a){"use strict";a.r(t);var o=a("a3f0"),n=a("203f");for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);a("6f7c");var r=a("f0c5"),c=Object(r["a"])(n["default"],o["b"],o["c"],!1,null,"24e71350",null,!1,o["a"],void 0);t["default"]=c.exports}},[["2cfa","common/runtime","common/vendor"]]]);