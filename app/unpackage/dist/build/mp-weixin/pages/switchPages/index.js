(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/switchPages/index"],{"0ea8":function(e,o,t){"use strict";(function(e){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=t("f104"),n={components:{countDown:function(){t.e("components/zh-countDown/countDown/countDown").then(function(){return resolve(t("ad53"))}.bind(null,t)).catch(t.oe)}},data:function(){return{weight:0,kg:0,navCurrent:0,useCalory:0,calorys:[],caloryNum:0,ydNum:0,foodNum:0,type0:[],type1:[],type2:[],type3:[],type4:[],times:0,modelVale:0,percent:12.5,categories:[{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:1},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:2},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:3},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:4},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:5},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:6},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:7},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:8},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:9},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:10},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:11},{name:"主食类",imageUrl:"http://up.boohee.cn/house/u/food_library/category/2_v1.png",id:12}],del:{},recommends:[],moves:[],bmi:0,dk:!1,date1:null}},onShow:function(){this.navCurrent=0},onLoad:function(){this.navCurrent=0;var o=new Date;this.date1=o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate(),e.hideTabBar(),this.getUserCalory(),this.getCategorList()},methods:{goLists:function(){e.navigateTo({url:"../list/food-lists/food-lists"})},goYsInfo:function(){e.navigateTo({url:"../info/info/info"})},goWeightInfo:function(){e.navigateTo({url:"../info/weight/weight"})},goAI:function(o){1==o?e.navigateTo({url:"../paizhao/burden-sheet/burden-sheet"}):2==o?e.navigateTo({url:"../paizhao/ai-food/ai-food"}):3==o?e.navigateTo({url:"../ai/ai/ai"}):4==o?e.navigateTo({url:"../zhuanzhu/zhuanzhu"}):5==o&&e.navigateTo({url:"../xinli/xinli"})},navChang:function(o){console.log(o),0==o?e.switchTab({url:"../switchPages/index"}):1==o?e.navigateTo({url:"../note/list"}):2==o?this.$refs.openWeight.open():3==o?e.switchTab({url:"../uSpeak/uSpeak",fail:function(e){console.log(e)}}):4==o&&e.switchTab({url:"../switchPages/about"}),this.navCurrent=o},calculateBMI:function(){if(this.height=a.getStorage("height")/100,console.log(this.kg,this.height),this.kg&&this.height){var e=this.height*this.height;this.bmi=this.kg/e}else alert("请输入有效的体重和身高")},tapme:function(){e.navigateTo({url:"../c-list/c-list",success:function(e){},fail:function(){},complete:function(){}})},pendantTap:function(){e.showToast({icon:"none",title:"挂件点击"})},getUserCalory:function(){var o=this;this.useCalory=a.getStorage("calory");var t=new Date,n={uid:a.getStorage("id"),createTime:t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()};e.gRequest.post("bohe/recommendFood",{data:{uid:a.getStorage("id")}},(function(e){try{console.log(JSON.parse(e.data.msg)),o.recommends=JSON.parse(e.data.msg)}catch(t){o.recommends=[]}})),e.gRequest.post("bohe/recommendMove",{data:{uid:a.getStorage("id")}},(function(e){try{console.log("==========="),console.log(JSON.parse(e.data.msg)),o.moves=JSON.parse(e.data.msg)}catch(t){o.moves=[]}})),e.gRequest.post("bohe/calories",{data:n},(function(e){if(console.log(e.data),200==e.data.code){o.calorys=e.data.data,o.caloryNum=0,o.ydNum=0,o.foodNum=0;var t=[],a=[],n=[],i=[],r=[];console.log(o.calorys);for(var c=0;c<o.calorys.length;){if(console.log(o.calorys[c]),4==o.calorys[c].cType)r.push(o.calorys[c]),o.ydNum=o.ydNum+o.calorys[c].cValue,o.caloryNum=o.caloryNum-o.calorys[c].cValue;else{switch(o.calorys[c].cType){case 0:t.push(o.calorys[c]);break;case 1:a.push(o.calorys[c]);break;case 2:n.push(o.calorys[c]);break;case 3:i.push(o.calorys[c]);break;default:break}o.foodNum=o.foodNum+o.calorys[c].cValue,o.caloryNum=o.caloryNum+o.calorys[c].cValue}c++}o.type0=t,o.type1=a,o.type2=n,o.type3=i,o.type4=r,o.caloryNum=parseInt(o.caloryNum),o.ydNum=parseInt(o.ydNum),o.foodNum=parseInt(o.foodNum),o.useCalory=parseInt(o.useCalory),o.percent=100*(o.caloryNum/o.useCalory).toFixed(2),console.log(o.percent)}})),this.getWeight()},getWeight:function(){var o=this;e.gRequest.post("bohe/getDayWeight",{data:{userId:a.getStorage("id")}},(function(t){console.log(t.data.data),t.data.data.length>0?(console.log("更新打卡"),o.kg=t.data.data[0].weight,o.calculateBMI(),o.dk=!0):(e.gRequest.post("bohe/getUserWeight",{data:{userId:a.getStorage("id")}},(function(e){console.log(e),o.kg=e.data.data[0].weight,o.calculateBMI()})),o.dk=!1)}))},add:function(e){console.log(e),4!=e?a.navigate("../c-list/c-list?type="+e):a.navigate("../c-move-list/c-move-list")},getCategorise:function(e){a.navigate("../list/list?id="+e)},open1:function(e){this.del=e,this.$refs.guimodal1.open()},close1:function(){this.$refs.guimodal1.close()},close2:function(){this.$refs.openWeight.close()},confirm2:function(){var o=this;this.kg=this.weight,this.$refs.openWeight.close(),this.dk=!0,e.gRequest.post("bohe/setUserWeight",{data:{userId:a.getStorage("id"),weight:this.kg}},(function(t){a.setStorage("weight",o.kg),console.log(t.data),e.showModal({content:t.data.msg}),o.getWeight()}))},confirm1:function(){var o=this;e.gRequest.post("bohe/delCalories",{data:this.del},(function(t){console.log(t.data),200==t.data.code&&(o.getUserCalory(),o.$refs.guimodal1.close(),e.showToast({title:"删除成功",icon:"success"}))}))}}};o.default=n}).call(this,t("543d")["default"])},5062:function(e,o,t){"use strict";t.r(o);var a=t("eb38"),n=t("b4e6");for(var i in n)["default"].indexOf(i)<0&&function(e){t.d(o,e,(function(){return n[e]}))}(i);t("fc57");var r=t("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"b23e3486",null,!1,a["a"],void 0);o["default"]=c.exports},a369:function(e,o,t){},b4e6:function(e,o,t){"use strict";t.r(o);var a=t("0ea8"),n=t.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){t.d(o,e,(function(){return a[e]}))}(i);o["default"]=n.a},c4d8:function(e,o,t){"use strict";(function(e,o){var a=t("4ea4");t("c84b"),t("a9ff");a(t("66fd"));var n=a(t("5062"));e.__webpack_require_UNI_MP_PLUGIN__=t,o(n.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},eb38:function(e,o,t){"use strict";t.d(o,"b",(function(){return n})),t.d(o,"c",(function(){return i})),t.d(o,"a",(function(){return a}));var a={guiPage:function(){return t.e("GraceUI5/components/gui-page").then(t.bind(null,"674e"))},guiDemoHeader:function(){return t.e("GraceUI5/components/gui-demo-header").then(t.bind(null,"c207"))},guiSearch:function(){return t.e("GraceUI5/components/gui-search").then(t.bind(null,"c0a8"))},lCircle:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/lime-circle/components/l-circle/l-circle")]).then(t.bind(null,"10f1"))},guiModal:function(){return t.e("GraceUI5/components/gui-modal").then(t.bind(null,"d8ae"))}},n=function(){var e=this,o=e.$createElement,t=(e._self._c,e.bmi.toFixed(2)),a=e.recommends.length,n=e.__map(e.recommends,(function(o,t){var n=e.__get_orig(o),i=a>0?encodeURIComponent(JSON.stringify(o)):null;return{$orig:n,m0:i}})),i=e.recommends.length;e.$mp.data=Object.assign({},{$root:{g0:t,g1:a,l0:n,g2:i}})},i=[]},fc57:function(e,o,t){"use strict";var a=t("a369"),n=t.n(a);n.a}},[["c4d8","common/runtime","common/vendor"]]]);